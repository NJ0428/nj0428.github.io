---
layout: single
title: "리눅스 사용자 및 그룹 정보 조회 "
categories: Linux
author_profile: false
toc: true
---

리눅스 시스템을 효율적으로 관리하려면 **누가 로그인 중인지**, **어떤 그룹에 속했는지** 확인할 수 있어야 합니다. 이번 글에서는 `users`, `who`, `w`, `id`, `groups` 등 **사용자·그룹 정보 조회 명령어**를 정리하고, `/etc/group` 파일까지 함께 소개합니다.

------

## 1. 사용자 조회 명령어

### 1.1 `users` – 현재 로그인 사용자 목록

- **설명**: 현재 시스템에 로그인한 사용자 계정 이름을 **간단히 나열**합니다.

- **형식**:

  ```bash
  users
  ```

- **출력 예시**:

  ```bash
  user1 user2 user3
  ```

> Tip: 로그인 계정 이름만 필요한 스크립트나 통계용으로 유용합니다.

------

### 1.2 `who` – 로그인 사용자 정보 조회

- **설명**: 로그인한 사용자들의 **단말기, 로그인 시간, IP 주소** 등을 출력합니다.

- **형식**:

  ```bash
  who
  ```

- **출력 예시**:

  ```nginx
  user1    pts/0    2024-12-11 10:00 (192.168.1.1)
  user2    pts/1    2024-12-11 10:05 (192.168.1.2)
  ```

> 차이점: users보다 상세하며, 네트워크를 통한 접속 여부도 확인 가능합니다.

------

### 1.3 `w` – 접속 사용자 + 작업 정보

- **설명**: 로그인된 사용자의 **활동 상태**를 포함한 종합 정보를 출력합니다.

- **형식**:

  ```bash
  w
  ```

- **출력 예시**:

  ```sql
  10:10:01 up 2 days,  1:45,  3 users,  load average: 0.00, 0.01, 0.05
  USER     TTY      FROM              LOGIN@   IDLE   JCPU   PCPU WHAT
  user1    pts/0    192.168.1.1       10:00    2.00s  0.01s  0.00s bash
  user2    pts/1    192.168.1.2       10:05    1.00s  0.02s  0.01s sshd
  ```

> WHAT 열을 통해 사용자가 현재 실행 중인 명령어를 실시간 확인할 수 있어 시스템 점검 시 유용합니다.

------

### 1.4 `id` – UID/GID 및 그룹 정보 확인

- **설명**: 특정 사용자의 **UID, GID, 속한 그룹 정보**를 숫자와 함께 표시합니다.

- **형식**:

  ```bash
  id [사용자명]
  ```

- **출력 예시**:

  ```ini
  uid=1001(user1) gid=1001(usergroup) groups=1001(usergroup),1002(sudo)
  ```

> 기본 그룹과 보조 그룹이 숫자와 이름으로 모두 출력됩니다.

------

### 1.5 `groups` – 사용자가 속한 그룹만 출력

- **설명**: 간단하게 사용자별 **그룹 목록**을 출력합니다.

- **형식**:

  ```bash
  groups [사용자명]
  ```

- **출력 예시**:

  ```yaml
  user1 : usergroup sudo developers
  ```

> id 명령보다 간결한 그룹 목록만 보고 싶을 때 유용합니다.

------

## 2. 그룹 정보 확인 명령어

### 2.1 `/etc/group` 파일 직접 조회

- **설명**: 시스템에 존재하는 **모든 그룹 정보**가 저장된 파일입니다.

- **확인 방법**:

  ```bash
  tail /etc/group
  ```

- **출력 예시**:

  ```makefile
  developers:x:1001:user1,user2
  sudo:x:27:user1
  ```

- 파일 형식:

  ```yaml
  그룹명 : 암호(x) : GID : 그룹 멤버 목록
  ```

> 특정 사용자 또는 그룹에 대한 수동 설정이나 점검 시 유용합니다.

------

## 실전 예제: 사용자 및 그룹 상태 점검

```bash
# 현재 로그인한 사용자 확인
users

# 로그인한 사용자 상세 확인
who

# 사용자 활동 상태 포함 확인
w

# user1의 UID, GID, 그룹 확인
id user1

# user2가 속한 그룹만 보기
groups user2

# 모든 그룹 정보 일부 확인
tail /etc/group
```

------

## 질문 정리

### `users`와 `who`의 차이는 무엇인가요?

- `users`: 로그인한 사용자명만 출력
- `who`: 로그인한 사용자 + 터미널, 시간, IP까지 출력

------

### 현재 로그인한 사용자가 실행 중인 명령어는 어떻게 보나요?

- `w` 명령의 **WHAT** 열을 보면 사용자별 실행 중인 명령어를 확인할 수 있습니다.

------

### 특정 사용자가 속한 그룹만 보고 싶을 땐?

- `groups [사용자명]` 명령이 가장 간단합니다.

------

### `/etc/group` 파일을 수정해도 바로 적용되나요?

- 네. 다만, 현재 세션에는 반영되지 않으므로 **로그아웃 후 로그인**해야 적용됩니다.

------

### 사용자 추가 시 자동 그룹 지정은 어떻게 하나요?

- 기본 그룹은 `/etc/default/useradd` 파일에서 설정하거나 `useradd -G` 옵션으로 지정할 수 있습니다.
